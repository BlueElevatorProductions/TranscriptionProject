/* design-tokens.css
   Single source of truth for all colors, transparency, and layout sizing.
   
   ✅ CSS VARIABLES WORK PERFECTLY in this Electron environment!
   ✅ Changes hot-reload automatically during development
   
   To change colors, transparency, or panel sizes, edit the CSS variables below.
*/

/* ============================================== */
/* LAYOUT & SIZING VARIABLES                      */
/* ============================================== */

:root {
    /* ========================================== */
    /* CORE DESIGN TOKENS - TAILWIND EXPECTS THESE */
    /* ========================================== */
    
    /* Core Colors (HSL values without hsl() wrapper, space-separated format) */
    --bg: 220 15% 15%;                /* Main background - dark */
    --surface: 210 40% 25%;           /* Surface elements - blue tinted */
    --sidebar: 210 50% 60%;            /* Sidebar background - blue tinted */
    --sidebar-light: 210 40% 55%;     /* Lighter sidebar variant - blue */
    --text: 50 100% 95%;              /* Primary text - light */
    --text-muted: 240 5% 65%;         /* Muted text */
    --text-on-dark: 0 0% 98%;         /* White text for dark backgrounds */
    --border: 220 15% 100%;           /* Border color */
    --border-muted: 240 4% 12%;       /* Darker borders */
    --accent: 280 100% 70%;           /* Purple accent color for testing */
    --accent-hover: 45 100% 75%;      /* Hover state for accent */
    
    /* Status Colors */
    --warn: 38 92% 50%;               /* Warning color */
    --success: 142 76% 36%;           /* Success color */
    --error: 0 84% 60%;               /* Error color */
    
    /* Status Background Colors */
    --success-bg: 142 76% 36% / 0.5;
    --success-text: 142 76% 50%;
    --error-bg: 0 84% 60% / 0.5;
    --error-text: 0 84% 70%;
    --warn-bg: 38 92% 50% / 0.5;
    --warn-text: 38 92% 60%;
    
    /* Component Colors */
    --neutral-bg: 220 15% 18%;
    --neutral-text: 240 5% 70%;
    --button-primary: 45 100% 70%;
    --button-primary-hover: 45 100% 75%;
    --button-secondary: 220 15% 22%;
    --button-secondary-hover: 220 15% 28%;
    
    /* Typography Colors */
    --primary-50: 45 100% 90%;
    
    /* Sidebar Specific */
    --sidebar-bg: 100 30% 36% / var(--sidebar-bg-opacity);
    --sidebar-text: 40 0% 95%;
    --sidebar-bg-blur: hsla(198 30% 36% / var(--sidebar-bg-opacity));
    
    /* Glass/Vibrancy Effects */
    --glass-surface: 240 8% 8% / 1;
    --glass-text: 0 0% 60%;          /* Glass text color - dynamic based on theme */
    --glass-border: 240 10% 30% / 1;
    --glass-hover: 240 8% 15% / 1;
    --glass-track: 240 8% 20% / 1;
    --glass-border-subtle: 240 4% 20% / 1;
    
    /* Panel Layout */
    --transcript-bg: 198 100% 100%;
    --transcript-text: 50 100% 95%;
    --player-bg: 10 15% 18%;
    --player-text: 50 100% 95%;
    --hover-bg: 220 15% 25%;
    --panel-bg-blur: hsla(220 15% 15% / var(--panel-bg-opacity));
    
    /* Shadcn/UI Mappings */
    --background: var(--bg);
    --foreground: var(--text);
    --muted: var(--border-muted);
    --muted-foreground: var(--text-muted);
    --popover: var(--surface);
    --popover-foreground: var(--text);
    --card: var(--surface);
    --card-foreground: var(--text);
    --input: var(--border);
    --primary: var(--accent);
    --primary-foreground: var(--text-on-dark);
    --secondary: var(--border-muted);
    --secondary-foreground: var(--text);
    --destructive: var(--error);
    --destructive-foreground: var(--text-on-dark);
    --ring: var(--accent);
    
    /* Radius and Spacing */
    --radius-sm: 0.25rem;
    --radius-md: 0.375rem;
    --radius-lg: 0.5rem;
    --radius-xl: 0.75rem;
    --spacing-xs: 0.25rem;
    --spacing-sm: 0.5rem;
    --spacing-md: 1rem;
    --spacing-lg: 1.5rem;
    --spacing-xl: 2rem;
    --spacing-2xl: 3rem;
    
    /* Font Families */
    --font-sidebar: 'Arial', ui-sans-serif, -apple-system, system-ui, 'Segoe UI', Roboto, 'Helvetica Neue', 'Noto Sans';
    --font-transcript: 'Avenir', -apple-system, system-ui, ui-sans-serif, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans';
    --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
    
    /* Shadows */
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
    --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
    --shadow-accent: 0 4px 14px 0 hsl(var(--accent) / 0.35);
    --shadow-focus: 0 0 0 2px hsl(var(--accent) / 0.5);
    
    /* Panel Widths - Change these to resize panels */
    --sidebar-width: 13rem;           /* Left sidebar width (w-64 = 16rem) */
    --sidebar-width-collapsed: 50px;  /* Collapsed sidebar width (icons only) */
    --secondary-panel-width: 320px;   /* Secondary panel width */
    --topbar-height: 44px;            /* Top bar height (matches Day One) */
    
    /* Window Transparency Controls */
    --app-bg-opacity: 1;            /* ?Main app background opacity (0=fully transparent, 1=opaque) */
    --sidebar-bg-opacity: 0.3;        /* Sidebar background opacity MAIN - lighter */
    --panel-bg-opacity: 0.2;          /* Secondary panel background opacity - light transparency */
    --glass-blur-amount: 0px;       /* Backdrop blur effect strength */
    --backdrop-blur: blur(20px);    /* Backdrop filter value */
    
    /* Glass Effect Opacity Levels */
    --opacity-glass-heavy: 0.8;     /* Heavy glass effect */
    --opacity-glass-medium: 0.5;    /* Medium glass effect */
    --opacity-glass-light: 0.3;     /* Light glass effect */
    --opacity-glass-subtle: 0.1;    /* Subtle glass effect */
}

/* ============================================== */
/* WORKING COLOR SYSTEM - DIRECT CSS CLASSES     */
/* ============================================== */

    /* === LEGACY OVERRIDES (Keep minimal for compatibility) === */
    /* These are kept only where Tailwind classes need specific overrides */
    
    /* Active tab styling - specific data attribute selectors that Tailwind can't handle */
    .data-\[state\=active\]\:bg-accent[data-state="active"],
    [data-state="active"].bg-accent,
    [data-state="active"] {
        background-color: hsl(var(--accent)) !important; /* Use CSS variable */
    }
    
    .data-\[state\=active\]\:text-white[data-state="active"] {
        color: hsl(var(--text-on-dark)) !important; /* Use CSS variable */
    }
    
    /* Special hover states that need override */
    .hover\:bg-hover-bg:hover {
        background-color: hsl(var(--hover-bg)) !important;
    }
    
    /* === GLASS EFFECT UTILITY CLASSES === */
    /* These remain as utility classes since they're not standard Tailwind */
    
    .vibrancy-sidebar {
        background-color: hsl(var(--sidebar) / var(--sidebar-bg-opacity));
        backdrop-filter: var(--backdrop-blur);
        -webkit-backdrop-filter: var(--backdrop-blur);
    }
    
    .vibrancy-panel {
        background-color: hsl(var(--surface) / var(--panel-bg-opacity));
        backdrop-filter: var(--backdrop-blur);
        -webkit-backdrop-filter: var(--backdrop-blur);
    }
    
    .vibrancy-topbar {
        background-color: hsl(var(--sidebar) / var(--sidebar-bg-opacity));
        backdrop-filter: var(--backdrop-blur);
        -webkit-backdrop-filter: var(--backdrop-blur);
        -webkit-app-region: drag; /* Make entire top bar draggable */
    }
    
    /* === LAYOUT UTILITY CLASSES === */
    .sidebar-width {
        width: var(--sidebar-width);
    }
    
    .secondary-panel-width {
        width: var(--secondary-panel-width);
    }
    
    .sidebar-width-collapsed {
        width: var(--sidebar-width-collapsed);
    }
    
    .topbar-height {
        height: var(--topbar-height);
        min-height: var(--topbar-height);
    }
    
    /* === GLASS EFFECT VARIANTS === */
    .glass-heavy {
        background-color: hsl(var(--surface) / var(--opacity-glass-heavy));
        backdrop-filter: var(--backdrop-blur);
        -webkit-backdrop-filter: var(--backdrop-blur);
    }
    
    .glass-medium {
        background-color: hsl(var(--surface) / var(--opacity-glass-medium));
        backdrop-filter: var(--backdrop-blur);
        -webkit-backdrop-filter: var(--backdrop-blur);
    }
    
    .glass-light {
        background-color: hsl(var(--surface) / var(--opacity-glass-light));
        backdrop-filter: var(--backdrop-blur);
        -webkit-backdrop-filter: var(--backdrop-blur);
    }
    
    .glass-subtle {
        background-color: hsl(var(--surface) / var(--opacity-glass-subtle));
        backdrop-filter: var(--backdrop-blur);
        -webkit-backdrop-filter: var(--backdrop-blur);
    }
    
    /* ============================================== */
    /* TYPOGRAPHY SETTINGS (These work)               */
    /* ============================================== */
    
    .sidebar-font {
        font-family: Arial, ui-sans-serif, -apple-system, system-ui, "Segoe UI", Roboto, "Helvetica Neue", "Noto Sans";
    }
    
    .transcript-font {
        font-family: Avenir, -apple-system, system-ui, ui-sans-serif, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans";
    }


/* ============================================== */
/* QUICK COLOR REFERENCE                          */
/* ============================================== */

/*
HSL COLOR EXAMPLES:
- hsl(0 100% 50%)   = Bright Red
- hsl(120 100% 50%) = Bright Green  
- hsl(240 100% 50%) = Bright Blue
- hsl(45 100% 70%)  = Yellow
- hsl(280 100% 60%) = Purple
- hsl(30 100% 60%)  = Orange
- hsl(0 0% 20%)     = Dark Gray
- hsl(0 0% 80%)     = Light Gray

SYNTAX RULES:
- Always use spaces: hsl(220 15% 20%)
- Never use commas: hsl(220, 15%, 20%) ❌
- Always add !important
- For transparency: hsla(220 15% 20% / 0.7)
*/

/* ============================================== */
/* CUSTOMIZATION GUIDE                            */
/* ============================================== */

/*
TO CHANGE SIDEBAR COLOR:
Edit .vibrancy-sidebar background-color

TO CHANGE BUTTON COLOR:
Edit .bg-surface background-color  

TO CHANGE ACCENT COLOR (active tabs):
Edit .bg-accent and .data-[state=active]:bg-accent background-color

TO CHANGE HOVER COLOR:
Edit .bg-hover-bg background-color (should be slightly lighter than .bg-surface)

EXAMPLE - Blue Theme:
.bg-accent { background-color: hsl(240 100% 60%) !important; }
.data-[state=active]:bg-accent[data-state="active"] { background-color: hsl(240 100% 60%) !important; }
.vibrancy-sidebar { background-color: hsla(240 100% 60% / 0.8) !important; }
*/

/* ============================================== */
/* COMPONENT-SPECIFIC STYLES                      */
/* ============================================== */

/* === NEW PROJECT WINDOWS === */
.new-project-dialog {
    background-color: hsla(220 15% 20% / var(--opacity-glass-medium)) !important;
    backdrop-filter: blur(var(--glass-blur-amount)) !important;
    -webkit-backdrop-filter: blur(var(--glass-blur-amount)) !important;
    border: 1px solid hsla(220 15% 40% / 0.3) !important;
}

/* === TRANSCRIPTION SETTINGS === */
.transcription-settings {
    background-color: hsla(0 15% 18% / var(--opacity-glass-heavy)) !important;
    backdrop-filter: blur(var(--glass-blur-amount)) !important;
    -webkit-backdrop-filter: blur(var(--glass-blur-amount)) !important;
}

/* === PROGRESS OVERLAYS === */
.progress-overlay {
    background-color: hsla(220 15% 10% / 0.5) !important;
    backdrop-filter: blur(50px) !important;
    -webkit-backdrop-filter: blur(50px) !important;
}

.progress-panel {
    background-color: hsla(220 15% 25% / var(--opacity-glass-heavy)) !important;
    backdrop-filter: blur(var(--glass-blur-amount)) !important;
    -webkit-backdrop-filter: blur(var(--glass-blur-amount)) !important;
    border: 1px solid hsla(220 15% 50% / 0.2) !important;
}

/* === MAIN APP TRANSPARENCY === */
.app-transparent {
    background-color: hsla(220 15% 15% / 1 var(--app-bg-opacity)) !important;
}

.app-opaque {
    background-color: hsla(220 15% 15% / 1.0) !important;
}

/* === TOP BAR SPECIFIC STYLES === */
.traffic-lights-space {
    width: 90px; /* Space for macOS traffic lights (12px + 68px buttons + padding) */
    height: var(--topbar-height);
    flex-shrink: 1;
}

.sidebar-toggle-btn {
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: transparent;
    border: none;
    border-radius: 4px;
    color: hsl(var(--text) / 0.8);
    transition: all 1s ease;
    cursor: pointer;
    -webkit-app-region: no-drag; /* Prevent dragging when clicking button */
}

.sidebar-toggle-btn:hover {
    background-color: hsl(var(--hover-bg) / 0.6);
    color: hsl(var(--text));
}

.button-group-separator {
    width: 100px; /* Gap between button groups */
    flex-shrink: 0;
}

.mode-button-group {
    gap: 4px; /* 4px between buttons within the same group */
}

.mode-button {
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: transparent;
    border: none;
    border-radius: 4px;
    transition: all 0.2s ease;
    cursor: pointer;
    -webkit-app-region: no-drag; /* Prevent dragging when clicking button */
}

.mode-button-active {
    background-color: hsl(var(--accent) / 0.2);
    color: hsl(var(--accent));
}

.mode-button-inactive {
    color: hsl(var(--text) / 0.6);
}

.mode-button-inactive:hover {
    background-color: hsl(var(--hover-bg) / 0.4);
    color: hsl(var(--text) / 0.8);
}

.project-info {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    margin-right: 16px;
    color: hsl(var(--text) / 0.8);
}

.project-name {
    font-size: 14px;
    font-weight: 500;
    color: hsl(var(--text));
}

.project-status {
    font-size: 12px;
    color: hsl(var(--text) / 0.6);
}

/* ============================================== */
/* QUICK TRANSPARENCY PRESETS                     */
/* ============================================== */

/* Apply these classes to body or main container for instant transparency changes */

/* Fully Transparent Mode */
.transparency-full {
    --app-bg-opacity: 0.5 !important;
    --sidebar-bg-opacity: 0.3 !important;
    --panel-bg-opacity: 0.1 !important;
    --glass-blur-amount: 50px !important;
}

/* Semi-Transparent Mode (Recommended) */
.transparency-medium {
    --app-bg-opacity: 0.3 !important;
    --sidebar-bg-opacity: 0.5 !important;
    --panel-bg-opacity: 0.8 !important;
    --glass-blur-amount: 100px !important;
}

/* Subtle Transparency Mode */
.transparency-subtle {
    --app-bg-opacity: 0.8 !important;
    --sidebar-bg-opacity: 0.9 !important;
    --panel-bg-opacity: 1.0 !important;
    --glass-blur-amount: 20px !important;
}

/* Opaque Mode */
.transparency-none {
    --app-bg-opacity: 1.0 !important;
    --sidebar-bg-opacity: 1.0 !important;
    --panel-bg-opacity: 1.0 !important;
    --glass-blur-amount: 0px !important;
}
